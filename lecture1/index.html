<!DOCTYPE html>
<html lang='en'>

<head>
<meta charset='utf-8'>
<title>Complex Numbers</title>
<link rel='icon' href='//puzlet.org/puzlet/images/favicon.ico'>
<link rel='stylesheet' href='../css/vendor.css'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.css">
<link rel='stylesheet' href='../css/style.css?v=1'>
<link rel='stylesheet' href='style.css?v=1'>
</head>

<body>

<div id='outer-container'>
<div id='container'>

<h1>Complex Numbers</h1>
<p class='heading'>Martin Clark and Gary Ballantyne<br>May 2016</p>
<p class='heading highlight'>[This web page is currently under development.]</p>

<h2>Vectors in a Plane</h2>

<div class='box-2-1'>

<p>Many applications in science and engineering model phenomena as a two-dimensional (2D) vector in a plane.</p>

<p>We can express a vector $z$ in a couple of ways:
  <table>
  <tr><td>Cartesian<td>$z = (x, y)$
  <tr><td>Polar<td>$z = A \angle \theta$
  </table>
  
where

$$x = A \cos(\theta)$$
$$y = A \sin(\theta)$$
</p>

  <p>
  Another way to express the vector $z$ is as a <i><b>complex number</b></i>:
  
  $$z = x+iy$$
  
  Here, $i$ represents the vertical-axis in the plane.
  <!--For now, just think of $z = x+iy$ as another notation for a 2D vector $z = (x, y)$ in a plane.-->
  </p>

  <p>
    Soon, we'll see that this complex number form has interesting and useful mathematical properties
    if we assign $i$ a special value.  In particular, we'll see that complex number <b><i>multiplication</i></b> 
    is equivalent to <b><i>rotation</i></b> of vectors in the plane.
  </p>
  
  <p>
    But for now, just think of $z = x+iy$ as another notation for a 2D vector $z = (x, y)$ in a plane.
  </p>
  
  <!--It turns out that this special value is the <i>imaginary</i> unit, $i=\sqrt{-1}$.  We'll see why.-->
  
  <p>
    [Discussion of applications here, e.g., electrical circuits/impedance.
    Show animated rotating vector, modulated with signal?  QPSK?]
  </p>

</div>  <!-- .box-2-1 -->

<div id='figure-complex-plane' class='box-2-2'>
  <div class='figure-outer'>
    <div class='figure-surface'></div>
    <div class='slider'></div>
  </div>
  <div class='magnitude'></div>
</div>

<div class='box-2-2'>
  
  <div id='exercises-complex-plane'>
    
    <div class='exercises-button'>Exercises</div>
    
    <div class='exercises hide'>
      
      <div class='exercise-navigation'>
        <div class='previous button'>Prev</div> | <div class='next button'>Next</div>
      </div>
      
      <div class='exercise' id='exercise-complex-1'>
        <h2 class='exercise-heading'>Exercise 1</h2>
        <div class='code-buttons'></div>
        <div data-file='exercises/complex1.coffee'></div>
        <div class='exercise-footer'>
          For the complex vector $z$ in the editor above,
          fill in the related values ($x$ and $y$ coordinates, magnitude $A$, and angle $\theta$).
          See the values plotted above &mdash;
          <span style='color:green'>green for $z$</span>,
          <span style='color:red'>red for ($x$, $y$)</span>,
          and <span style='color:blue'>blue for $A \angle \theta$</span>.
        </div>
      </div>
      
      <div class='exercise' id='exercise-complex-2'>
        <h2 class='exercise-heading'>Exercise 2</h2>
        <div class='code-buttons'></div>
        <div data-file='exercises/complex2.coffee'></div>
        <div class='exercise-footer'>
          For the complex vector $z$ in the editor above, ...
        </div>
      </div>
      
      <div class='exercise' id='exercise-complex-3'>
        <h2 class='exercise-heading'>Exercise 3</h2>
        <div class='code-buttons'></div>
        <div data-file='exercises/complex3.coffee'></div>
        <div class='exercise-footer'>
          For the complex vector $z$ in the editor above, ...
        </div>
      </div>
      
    </div> <!-- .exercises -->
    
  </div> <!-- #exercises-complex-plane -->
  
  <div class='todo'>
    <h3>Exercises to implement</h3>
    <ul>
      <li>Buttons for various $z$: $1$, $i$, $-i$, $1+i$.
      <li>Expression for magnitude of vector: $\sqrt{x^2 + y^2}$.
      <li>Expression for angle: $\arctan{(y, x)}$
    </ul>
  </div>

</div>

<div class='clear'></div>

<h2>Addition</h2>

<div class='box-2-1'>
<p>Before we get into complex number multiplication, or even defining the value of $i$,
  let's look at simple <i>addition</i> of vectors in the plane. 
<p>
To add vectors&mdash;and thus add complex numbers&mdash;just 
add the $x$ coordinates to get the new $x$-coordinate; and add the $y$ coordinates to get the new $y$-coordinate:
  $$z_1 = x + iy$$
  $$z_2 = a + ib$$
  $$z_1 + z_2 = (x + iy) + (a + ib) = (x+a) + i(y+b)$$
</p>
</div>

<div id='figure-complex-addition' class='box-2-2'>
  <div class='figure-outer'>
    <div class='figure-surface'></div>
    <div class='slider'></div>
    <div class='slider-2'></div>
  </div>
  <div class='magnitude'></div>
</div>

<div class='clear'></div>

<div class='box-2-2'>
  <div class='todo'>
    <h3>Exercises to implement</h3>
    <ul>
      <li>Represent $1+i$ as sum of real vector and imaginary vector.
      <li>Subtraction: represent $(1+i) - (2-i/2)$ as sum.
      <li>Expression for magnitude of sum: $\sqrt{(x+a)^2 + (y+b)^2}$
      <li>Expression for angle of sum: $\arctan{(y+b, x+a)}$
    </ul>
  </div>
</div>

<div class='clear'></div>

<h2>The Imaginary Unit</h2>

<section id='section-complex-unit'>

<div class='box-2-1'>
<p>
  Consider the following four cases for $z$:
  <table id='table-complex-unit'>
  <tr><th>$z$<th>$(x,y)$<th>$\theta$
  <tr><td>$1$<td>$(1,0)$<td>$0$
  <tr><td>$i$<td>$(0,1)$<td>$\frac{\pi}{2}$
  <tr><td>$-1$<td>$(-1,0)$<td>$\pi$
  <tr><td>$-i$<td>$(0,-1)$<td>$-\frac{\pi}{2}$
  </table>
</p>

<p>
  The figure shows <span id="show-vectors" class='text-button'>each vector $z$</span>.
  (Click this green button to see the vectors, or click any white circle in the figure.)
  Each vector lies along an axis and has a unit magnitude $A=1$.
</p>

<p>
  If we <span id='multiply-by-negative-1' class='text-button'>multiply a vector $z$ by $-1$</span>,
  we get a 180<sup>&deg;</sup> rotation ($\pi$ radians).
  Try with any vector $z$ as the starting point (click white circle in figure).
  Multiplying <i>twice</i> by $-1$ returns to the original vector.
</p>

</div>

<div id='figure-complex-unit' class='box-2-2'>
  <div class='figure-outer'>
    <div class='figure-surface'></div>
    <div class='equation'></div>
  </div>
</div>

<div class='clear'></div>

<div class='box-2-1'>

<p>
  What about a 90<sup>&deg;</sup> rotation?
  Can it be accomplished by multiplying $z$ by some value?
  Well, consider the starting point <span id='z1' class='text-button'>$z=1$</span>.
  If we <span id='multiply-1-by-i' class='text-button'>multiply by $i$</span>, 
  we get a 90<sup>&deg;</sup> rotation to $z=i$ (because $1 \times i = i$).
</p>

<p>
  If we multiply <i>again</i> by $i$, we get $z=i \times i$.
  We know we want the result to be
  <span id='multiply-i-by-i' class='text-button'>$z=-1$</span> 
  (90<sup>&deg;</sup> from $z=i$).  And so for this operation to work, we need
  
  $$i \times i = i^2 = -1$$
</p>

</div>

<div class='box-2-2'>

  <p>
    There's no real number that solves this equation for $i$.  (The square of any real number is always positive.)
    For this reason, $i$ is called an <i><b>imaginary</b></i> number.
    With this definition for $i$ in  mind, we get the following operations:
    <table>
    <tr>
      <td>Rotate 90<sup>&deg;</sup> $\left(\frac{\pi}{2}\right)$
      <td><span id='multiply-by-i' class='text-button'>Multiply by $i$</span>
    <tr>
      <td>Rotate -90<sup>&deg;</sup> $\left(-\frac{\pi}{2}\right)$
      <td><span id='multiply-by-negative-i' class='text-button'>Multiply by $-i$</span><br>
    </table>
  </p>

</div>

<div class='clear'></div>

<div class='box-2-2'>
  <div class='todo'>
    <h3>Exercises to implement</h3>
    <ul>
      <li>Multiplying by $-i$ (implement button above).
        Code results for 
        $1\times (-i)^n$, where $n=1,2,3,4$.
        What angle is rotation?
      <li>What if start vector is $z=A$?  Replace exercise below.
        Multiply by $i$ four times; what is the result at each step?
    </ul>
  </div>
</div>

<div class='clear'></div>

</section>

<div class='clear'></div>

<hr>

<div class='box-2-1'>
  <h3>Exercise</h3>
  <p>
  In the example above, each vector had a unit magnitude $A=1$.  What happens for other vector magnitudes?
  </p>
  
  <p>
  Say we start with vector $z=A$.  Then we multiply by $i$.  What is the result?
  If we multiply by $i$ three more times, what is the result at each step?
  </p>
  
</div>

<div class='box-2-2'>
  <h3>Solution</h3>
  <div class='solution-button'>
    Click here for solution.
  </div>
  <div class='solution'>
  <table>
    <tr><th>Start<th>Operation<th>Result
    <tr><td>$z=A$<td>$\times i$<td>$iA$
    <tr><td>$z=iA$<td>$\times i$<td>$i^2A = -A$
    <tr><td>$z=-A$<td>$\times i$<td>$-iA$
    <tr><td>$z=-iA$<td>$\times i$<td>$-i^2A = A$
  </table>
  <p>
  With any vector magnitude $A$, multiplying by $i$ rotates the vector 90<sup>&deg;</sup>.
  </p>
  </div>
</div>

<div class='clear'></div>

<div class='box-2-1'>
  <div data-file='exercises/rotation.coffee'></div>
</div>
<div class='box-2-2'>
  <div data-eval='exercises/rotation.coffee'></div>
  <div id='exercise-rotation-result'></div>
</div>

<div class='clear'></div>

<hr>

<section id='section-complex-unit-multiply'>

<div class='box-2-1'>
<p>
  So, we see that multiplying a vector $z$ by the imaginary unit $i$ rotates $z$ by 90<sup>&deg;</sup>.
  But we demonstrated this for only four vectors.  In general, a complex number has the form
  $$z = x + iy$$
  We refer to $x$ as the <em><strong>real part </strong></em> and $y$ as the <em><strong>imaginary part</strong></em>.
</p>

<p>
  Consider the case where the real part is 1 ($x=1$) and the imaginary part is also 1 ($y=1$):
  $$z = 1+i$$
  We can think of this vector as the sum of two component vectors:
  $$z = z_1 + z_2$$
  $$z_1 = 1$$
  $$z_2 = i$$
  The figure shows these two component vectors as blue lines.
  Each component lies along an axis and has a unit magnitude,
  just like the vectors in the previous section.
</p>
<p>
  <span id='multiply-by-i' class='text-button'>Multiplying $z$ by $i$</span>
  is equivalent to multiplying each component ($z_1$ and $z_2$) by $i$,
  and summing the results.
  From the previous section, 
  we know that this is equivalent to <b>rotating</b> each component by 90<sup>&deg;</sup>.
  And so multiplying $z$ by $i$ must also rotate it by 90<sup>&deg;</sup>.
</p>
</div>

<div id='figure-complex-unit-multiply' class='box-2-2'>
  <div class='figure-outer'>
    <div class='figure-surface'></div>
    <div class='slider'></div>
    <!--div class='equation'>$ $</div-->
  </div>
</div>

<div class='box-2-2'>
  <p>What happens for other values of $x$ and $y$?
    Try adjusting the vector $z=x+iy$ in the figure, and then
     <span id='multiply-by-i' class='text-button'>multiply by $i$</span>.
    What happens if you
    <span id='multiply-by-negative-i' class='text-button'>multiply by $-i$</span>?
  </p>
  
  <div class='todo'>
    <h3>Exercises to implement</h3>
    <ul>
      <li>
        Write expression for multiplying $z=x+iy$ by $i$.
        Answer:
        $$i(x+iy) = ix + i^2y = -y + ix$$
      </li>
    </ul>
  </div>
</div>

<div class='clear'></div>

</section>

<h2>Scaling</h2>

<div class='box-2-1'>
<p>
To scale a complex vector $z = x+iy$,
multiply the real part $x$ and imaginary part $y$ by the same factor:
  $$az = a(x+iy) = ax + iay$$
</p>
<p>
  When $a$ is a positive number, scaling operates in the direction of the vector.
</p>
<p>
  When $a$ is a <i>negative</i> number, the vector is rotated 180<sup>&deg;</sup> ($\pi$ radians).
<p>
  [Buttons in text to set original vector to $1+i$, and scale factor to -1, 2, etc.]
</p>

<p>
  What about multiplying a complex number by $ib$?
  This is the same as scaling by $b$ (as above), and then rotating by 90<sup>&deg;</sup>
  (as in previous section).
</p>

<p>
  [Buttons in text to set original vector to $1+i$, and scale factor to -j, 2*j, 0.5*j etc.]
</p>

</div>

<div id='figure-complex-scaling' class='box-2-2'>
  <div class='figure-outer'>
    <div class='figure-surface'></div>
    <div class='slider'></div>
  </div>
  <div class='slider-scale-factor'></div>
  <div class='magnitude'></div>
</div>

<div class='clear'></div>

<h2>Multiplication</h2>

<div class='box-2-1'>
  
<p>So, we know how to multiply a complex number $z=x+iy$ by $a$ or by $ib$.
  What about multiplying a complex number $z=x+iy$ by another complex number $z_2 = a+ib$?
  This is equivalent to
  $$ z z_2 = z(a+ib) = az + ibz$$
  That is, add two vectors:
  <ul>
    <li>the first vector is $z$ scaled by $a$.
    <li>the second vector is $z$ scaled by $b$ and rotated by 90<sup>&deg;</sup>.
  </ul>
  You can think of these two vectors as forming a right-angle triangle
  stacked on top of vector $z$ (see figure).
  If $z$ has a unit magnitude ($A=1$):
  <ul>
  <li>the base of the triangle has length $a$ [color?].
  <li>the height of the triangle is $b$.
  <li>the angle of the triangle is the angle of the complex number $a+ib$.
  <li>the angle of the result is the sum of the angle of $z$ and the angle of $z_2$.
  </ul>
  In other words, <b>multiplying complex numbers adds their angles</b>.
</p>

</div>

<div id='figure-complex-multiplication' class='box-2-2'>
  <div class='figure-outer'>
    <div class='figure-surface'></div>
    <div class='slider'></div>
  </div>
  
  <div class='todo'>
    <h3>Exercises to implement</h3>
    <p>What if the magnitude of $z$ is not 1?  Can we still add the angles?
        What is the magnitude of the result?<br>
        Answer:
        <ul>
        <li>$z$ has magnitude $A=\sqrt{x^2 + y^2}$ and angle $\theta$.
        <li>$z_2$ has magnitude $A_2=\sqrt{a^2 + b^2}$ and angle $\phi$.
        <li>the triangle has base length $aA$ and height $bA$.
        <li>this triangle is similar for any value of $A$, and so it has angle $\phi$.
        <li>the resulting vector $zz_2$ has angle $\theta + \phi$.
        <li>$zz_2$ has a magnitude equal to the hypotenuse of the triangle: $\sqrt{(aA)^2 + (bA)^2} = AA_2$.
        </ul>
      </p>
  </div>
</div>

<div class='clear'></div>

<h2>Power</h2>

<div class='box-2-1'>
  <p>
  Let's summarize multiplication of complex numbers.  Say we have two complex numbers:
  <ul>
    <li>$z_1 = x_1+iy_1 = A_1(\cos(\theta_1) + i\sin(\theta_1))$
    <li>$z_2 = x_2+iy_2 = A_2(\cos(\theta_2) + i\sin(\theta_2))$
  </ul>
  Their product is
  $$z_1 z_2 = A_1 A_2 (\cos(\theta_1 + \theta_2) + i\sin(\theta_1 + \theta_2))$$
  Exercise: Prove this using trig identities.
  </p>
  
  <p>
  Consider now a complex number $z$ with a unit magnitude $A=1$ and angle $\phi$.
  The <i>square</i> of $z$ is
  $$ z^2 = (\cos(\phi) + i\sin(\phi))^2 = \cos(2\phi) + i\sin(2\phi) $$
  The angle of $z^2$ is thus $\theta = 2\phi$.
  </p>
  
  <!--
  In the case where the complex numbers each have a unit magnitude ($A_1=1$ and $A_2=1$), we have
  $$z_1 z_2 = \cos(\theta_1 + \theta_2) + i\sin(\theta_1 + \theta_2)$$
  </p>
  
  <p>
    Now that we know the product of two complex numbers, what is the $n$th power of a complex number?
    Say we have a complex number $z$ with unit magnitude ($A=1$) and angle $\phi$.
    The $n$th power of $z$ is
    $$ z^n = (\cos(\phi) + i\sin(\phi))^n = \cos(n\phi) + i\sin(n\phi) $$
  </p>
  
  <p>
    Say we have $N$ complex numbers $z_1, z_2, \ldots z_N$, each with a unit magnitude $A_n=1$
    and each with the same angle $\theta_n = \theta/N$.  The product of these complex numbers is
    $$\prod_{n=1}^N{z_n} = (\cos(\theta/N) + i\sin(\theta/N))^N = \cos(\theta) + i\sin(\theta)$$
    That is, $\theta$ is the sum of angles of all the complex numbers.
    See red triangles in figure below for various $\theta$ and $N$.
  </p -->
</div>

<div class='box-2-2'>
  <p>
  Further, the <i>$n$th power</i> of $z$ is
  $$ z^n = (\cos(\phi) + i\sin(\phi))^n = \cos(n\phi) + i\sin(n\phi) $$
  The angle of $z^n$ is thus $\theta = n\phi$.
  </p>
  <p>
  See red triangles in figure below for specified $\theta$ and $n$ (and $\phi = \theta/n$).
  The starting vector is $z^0=1$.  The first triangle is $z^1=z$.
  The second triangle is for $z^2$, and so on.
  </p>
  
</div>

<div class='clear'></div>

<div id='figure-euler-formula' class='box-1-1'>
  <div class='figure-outer figure-outer-large'>
    <div class='figure-surface'></div>
    <div id='math' class='angle-text'></div>
  </div>
  <div id='slider-theta'></div>
  <div id='slider-n'></div>
</div>

<div class='clear'></div>

<h2>Euler's Formula</h2>

<div class='box-2-1'>
  <p>
    From the section above, we can write the relationship
    $$ (\cos(\theta/n) + i\sin(\theta/n))^n = \cos(\theta) + i\sin(\theta)$$
    
    For some value of $\theta$, what happens when $n$ becomes large 
    and thus $\phi=\theta/n$ becomes small?
    For small $\phi$, we have:
    <ul>
      <li>$\cos(\phi) \rightarrow 1$
      <li>$\sin(\phi) \rightarrow \phi$ (for angle in radians)
    </ul>
    And so
    $$ \lim_{n \to \infty} \left( 1 + \frac{i\theta}{n} \right)^n = \cos(\theta) + i\sin(\theta) $$
  </p>
  <p>
    The blue triangles in the figure above show the left hand side of the equation for specified $\theta$ and $n$.
    As $n$ becomes large, the trajectory of the blue triangles approximates that of the red triangles.
  </p>
</div>

<div class='box-2-2'>
  <p>
    Note that the definition of the <i>exponential function</i> is
    $$ e^x = \lim_{n \to \infty} \left(1 + \frac{x}{n} \right)^n $$
    And so it follows that (while not a rigorous proof)
    $$ e^{i\theta} = \cos(\theta) + i\sin(\theta)$$
    This is <a href='https://en.wikipedia.org/wiki/Euler%27s_formula'><i>Euler's formula</i></a>, 
    and has been referred to as "the most remarkable formula in mathematics."
  </p>
  <p>[Intuitive explanation of exponential function of imaginary number.  What does it mean to "grow" in orthogonal direction, rather than same/real direction in usual exponential form?]
  </p>
  <p>
    Based on Euler's formula, a complex number can be represented as
    $$ z = A e^{i\theta} $$
    The product of two complex numbers $z_1 = A_1 e^{i\theta_1}$  and $z_2 = A_2 e^{i\theta_2}$ is
    $$ z_1 z_2 = A_1 A_2 e^{i\theta_1}e^{i\theta_2} = A_1 A_2 e^{i(\theta_1 + \theta_2)}$$
    That is, Euler's formula is consistent with the notion of adding angles for the product of complex numbers.
  </p>
  
</div>

<div class='clear'></div>

<h2>Other Stuff</h2>

<ul>
  <li>Conjugate.
  <li>Division.
  <li>Using Euler's form in applications.
</ul>


<!--ui.coffee-->
<!--div class='box-1-1'>
  <div id='angle'></div>
  <div id='math-outer'>
    <div id='math-surface'></div>
    <div id='math' class='angle-text'></div>
  </div>
</div-->

<!--

<div class='box-2-1'>
  <div id='input' class='input-container'></div>
  <div id='result'></div>
</div>

<div class='box-2-2'>
  <div id='plot' class='plot-container'></div>
</div>

<div class='clear'></div>

<div class="left">
  <div data-file="compute.coffee"></div>
</div>

<div class="right">
  <div data-eval="compute.coffee"></div>
</div>

<div class='clear'></div>
-->

</div>  <!--#container-->
</div>  <!--#outer-container-->

<script src='../js/vendor.js'></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.5.1/katex.min.js"></script>
<script src='//puzlet.org/puzlet.js' data-puzlet data-resources='resources.coffee'></script>

</body>

</html>
